<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>configure your hawtio</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="A HTML5 web console for managing Java services with support for JMX, OSGi, Apache ActiveMQ, Apache Camel and Fuse Fabric. Open source, modular and extensible" name="description" />
		<!--
    <link href="/blog/atom.xml" rel="alternate" title="hawtio blog Atom feed" type="application/atom+xml" />
    -->
    <link href="/stylesheets/screen.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>
  <body class="home">
    <header class="navbar navbar-fixed-top" id="banner" role="banner">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="g-plusone-slot">
            <div class="g-plusone" data-annotation="none"></div>
          </div>
          <div class="logo-box">
            <a class="brand" href="/">
              <img src="/images/logo-100px.png" />
            </a>
          </div>
          <nav class="nav-collapse" role="navigation">
            <ul class="nav">
              <li><a href="/faq/index.html">FAQ</a></li>
              <li><a href="/getstarted/index.html">Get Started</a></li>
              <li><a href="/community/index.html">Community</a></li>
              <li><a href="/plugins/index.html">Plugins</a></li>
              <li><a href="/developers/index.html">Developers</a></li>
							<li><a href="https://github.com/hawtio/hawtio">github</a></li>
							<!--
              <li><a href="/blog/">Blog</a></li>
							-->
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <div id="main">
		  <p><div id="content-header">
    <div class="container">
      <h1>Configuration</h1>
    </div>
  </div>
  <div class="container">
    <div id="content"></p>

<h2 id = "hawtio_configuration">hawtio configuration</h2>

<h3 id = "Configuring_Security">Configuring Security</h3>

<p>hawtio enables security out of the box depending on the container it is running within. Basically there is two types of containers:</p>

<ul>
<li>Karaf based containers</li>
<li>Web containers</li>
</ul>

<h4 id = "Default_Security_Settings_for_Karaf_containers">Default Security Settings for Karaf containers</h4>

<p>By default the security in hawtio uses these system properties when running in Apache Karaf containers (Karaf, ServiceMix, JBoss Fuse) which you can override:</p>

<table class="buttonTable">
  <tr>
    <th>Name</th>
    <th>Default</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      hawtio.authenticationEnabled
    </td>
    <td>
      true
    </td>
    <td>
      Whether or not security is enabled
    </td>
  </tr>
  <tr>
    <td>
      hawtio.realm
    </td>
    <td>
      karaf
    </td>
    <td>
      The security realm used to login
    </td>
  </tr>
  <tr>
    <td>
      hawtio.role
    </td>
    <td>
      admin
    </td>
    <td>
      The user role required to be able to login to the console
    </td>
  </tr>
  <tr>
    <td>
      hawtio.rolePrincipalClasses
    </td>
    <td>

    </td>
    <td>
      Principal fully qualified classname(s). Multiple classes can be separated by comma.
    </td>
  </tr>
  <tr>
    <td>
      hawtio.noCredentials401
    </td>
    <td>
      false
    </td>
    <td>
      Whether to return HTTP status 401 when authentication is enabled, but no credentials has been provided. Returning 401 will cause the browser popup window to prompt for credentails. By default this option is false, returning HTTP status 403 instead.
    </td>
  </tr>
</table>

<p>Changing these values is often application server specific. Usually the easiest way to get hawtio working in your container is to just ensure you have a new user with the required role (by default its the 'admin' role).</p>

<h4 id = "Default_Security_Settings_for_web_containers">Default Security Settings for web containers</h4>

<p>By default the security in hawtio uses these system properties when running in any other container which you can override:</p>

<table class="buttonTable">
  <tr>
    <th>Name</th>
    <th>Default</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>
      hawtio.authenticationEnabled
    </td>
    <td>
      false
    </td>
    <td>
      Whether or not security is enabled
    </td>
  </tr>
  <tr>
    <td>
      hawtio.realm
    </td>
    <td>
      *
    </td>
    <td>
      The security realm used to login
    </td>
  </tr>
  <tr>
    <td>
      hawtio.role
    </td>
    <td>
    </td>
    <td>
      The user role required to be able to login to the console
    </td>
  </tr>
  <tr>
    <td>
      hawtio.rolePrincipalClasses
    </td>
    <td>
    </td>
    <td>
      Principal fully qualified classname(s). Multiple classes can be separated by comma.
    </td>
  </tr>
  <tr>
    <td>
      hawtio.noCredentials401
    </td>
    <td>
    </td>
    <td>
       Whether to return HTTP status 401 when authentication is enabled, but no credentials has been provided. Returning 401 will cause the browser popup window to prompt for credentails. By default this option is false, returning HTTP status 403 instead.
    </td>
  </tr>
</table>

<h4 id = "Configuring_or_disabling_security_in_web_containers">Configuring or disabling security in web containers</h4>

<p>Set the following JVM system property to enable security:</p>

<pre><code>hawtio.authenticationEnabled=true</code></pre>

<p>Or adjust the web.xml file and configure the &lt;env-entry&gt; element, accordingly.</p>

<h5 id = "Configuring_security_in_Apache_Tomcat">Configuring security in Apache Tomcat</h5>

<p>From <strong>hawt 1.2.2</strong> onwards we made it much easier to use Apache Tomcat's userdata file (conf/tomcat-users.xml) for security.
All you have to do is to set the following <strong>CATALINA_OPTS</strong> environment variable:</p>

<pre><code>export CATALINA_OPTS=-Dhawtio.authenticationEnabled=true</code></pre>

<p>Then <strong>hawtio</strong> will auto detect that its running in Apache Tomcat, and use its userdata file (conf/tomcat-users.xml) for security.</p>

<p>For example to setup a new user named scott with password tiger, then edit the file '''conf/tomcat-users.xml''' to include:</p>

<pre><code>&lt;user username="scott" password="tiger" roles="tomcat"/&gt;</code></pre>

<p>Then you can login to hawtio with the username scott and password tiger.</p>

<p>If you only want users of a special role to be able to login <strong>hawtio</strong> then you can set the role name in the <strong>CATALINA_OPTS</strong> environment variable as shown:</p>

<pre><code>export CATALINA_OPTS='-Dhawtio.authenticationEnabled=true -Dhawtio.role=manager'</code></pre>

<p>Now the user must be in the manager role to be able to login, which we can setup in the '''conf/tomcat-users.xml''' file:</p>

<pre><code>&lt;role rolename="manager"/&gt;
&lt;user username="scott" password="tiger" roles="tomcat,manager"/&gt;</code></pre>

<h3 id = "Configuration_Properties">Configuration Properties</h3>

<p>The following table contains the various configuration settings for the various hawtio plugins.</p>

<table class="table">
<tr>
<th>System Property</th><th>Description</th>
</tr>
<tr>
<td>hawtio.offline</td><td>Whether to run hawtio in offline mode (default false). When in offline mode, then some plugins is not enabled such as <a href="http://hawt.io/plugins/maven/">Maven</a> and <a href="http://hawt.io/plugins/git/">Git</a>.</td>
</tr>
<tr> 
<td>hawtio.dirname</td><td>The directory name for the hawtio home. Is by default <tt>/.hawtio</tt>. This complete home directory for hawtio is the <tt>hawtio.config.dir</tt><tt>hawtio.dirname</tt>, so remember to have leading / in this option. The out of the box options translates as the: <tt>user.home/.hawtio</tt> directory.</td>
</tr>
<tr> 
<td>hawtio.config.dir</td><td>The directory on the file system used to keep a copy of the configuration for hawtio; for all user settings, the dashboard configurations, the wiki etc. Typically you will push this configuration to some remote git server (maybe even github itself) so if not specified this directory will be a temporary created directory. However if you are only running one hawtio server then set this somewhere safe and you probably want to back this up!. See also the hawtio.dirname option.</td>
</tr>
<tr>
<td>hawtio.config.repo</td><td>The URL of the remote git repository used to clone for the dashboard and wiki configuration. This defaults to <b>git@github.com:hawtio/hawtio-config.git</b> but if you forked the hawtio-config repository then you would use your own user name; e.g. <b>git@github.com:myUserName/hawtio-config.git</b></td>
</tr>
<tr>
<td>hawtio.config.cloneOnStartup</td><td>If set to the value of <b>false</b> then there will be no attempt to clone the remote repo</td>
</tr>
<tr>
<td>hawtio.config.pullOnStartup</td><td>If set to the value of <b>false</b> then there will be no attempt to pull from the remote config repo on startup</td>
</tr>
<tr>
<td>hawtio.maven.index.dir</td><td>The directory where the maven indexer will use to store its cache and index files</td>
</tr>
<tr>
<td>hawtio.sessionTimeout</td><td><strong>hawtio 1.2.2</strong> The maximum time interval, in seconds, that the servlet container will keep this session open between client accesses. If this option is not configured, then hawtio uses the default session timeout of the servlet container.</td>
</tr>
</table>

<h4 id = "Web_Application_configuration">Web Application configuration</h4>

<p>If you are using a web container, the easiest way to change the web app configuration values is:</p>

<ul>
<li>Create your own WAR which depends on the <strong>hawtio-default.war</strong> like the <a href="https://github.com/hawtio/hawtio/blob/master/sample/pom.xml#L17">sample project's pom.xml</a></li>
<li>Create your own <a href="https://github.com/hawtio/hawtio/blob/master/sample/src/main/resources/blueprint.properties#L7">blueprint.properties</a> file that then can override whatever properties you require</li>
</ul>

<h4 id = "OSGi_configuration">OSGi configuration</h4>

<p>Just update the blueprint configuration values in OSGi config admim as you would any OSGi blueprint bundles. On OSGi all the hawtio Java modules use OSGi blueprint.</p>

<p></div>
  </div></p>
    </div>
    <footer>
      <div class="container">
        <div class="project">
          <img src="/images/logo-450px.png" />
          <p class="bottom">
            <a id="redhat-logo" href="http://www.redhat.com"><img src="http://static.jboss.org/theme/images/common/redhat_logo.png"></a>
            &#169;
            Copyright 2012-2014 Red Hat, Inc.
            <br>
            <i class="icon-fire"></i>
            Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>. Baked by <a href="http://scalate.fusesource.org">Scalate</a>.
            <br />
            <i class="icon-share-alt"></i>
            Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            <br />
            Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
          </p>
        </div>
        <div class="footer-nav">
          <h4>Learn</h4>
          <ul>
            <li>
              <a href="/index.html">Get Started</a>
            </li>
            <li>
							<a href="articles/index.html">Articles and Demos</a>
            </li>
            <li>
							<a href="faq/index.html">FAQ</a>
            </li>
            <li>
              <a href="/developers/index.html">Developers</a>
            </li>
            <li>
              <a href="/building/index.html">Building</a>
            </li>
          </ul>
        </div>
        <div class="footer-nav">
          <h4>Get Involved</h4>
          <ul>
						<!--
            <li>
              <a href="http://community.jboss.org/en/hawtio?view=discussions">Forums</a>
            </li>
						-->
            <li>
							<a href="/contributing/index.html">Contributing</a>
            </li>
            <li>
							<a href="/community/index.html">Community</a>
            </li>
            <li>
              <a href="https://github.com/hawtio/hawtio/issues?state=open">Issue Tracker</a>
            </li>
            <li>
              <a href="https://github.com/hawtio/hawtio">Source Code</a>
            </li>
						<!--
            <li>
              <a href="/community/contributors">Contributors</a>
            </li>
						-->
          </ul>
        </div>
        <div class="sponser">
          <div class="follow-us">
            <h4>Stay Informed</h4>
            <ul>
							<!--
              <li>
                <a href="https://plus.google.com/100660127586085393031"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow hawtio on Google+" /></a>
              </li>
							-->
              <li>
                <a href="https://twitter.com/#!/search/%23hawtio"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #hawtio hashtag on Twitter" /></a>
              </li>
							<!--
              <li>
                <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the hawtio group on LinkedIn" /></a>
              </li>
              <li>
                <a href="http://vimeo.com/channels/hawtio"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the hawtio channel on Vimeo" /></a>
              </li>
							-->
            </ul>
          </div>
          <p>This website is open source! If you want to improve it, <a href="http://github.com/hawtio/hawtio">fork the project</a>, hack on it, then send a pull request. You can also view the <a href="http://www.seethestats.com/site/hawtio">visitor stats</a>.</p>
          <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
          <p>hawtio is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
          <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
        </div>
        <a class="visible-desktop" href="#" id="toTop">Top</a>
      </div>
    </footer>
    <script>
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js"></script>
    <script src="/javascripts/prettify.js"></script>
    <script src="/javascripts/site.js"></script>
    <script>
      (function() {
        var po = document.createElement('script'); po.async = true; po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
		<script type="text/javascript">
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-36899203-1']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();
		</script>
  </body>
</html>
