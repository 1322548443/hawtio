<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>hawtio Camel plugin</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="A HTML5 web console for managing Java services with support for JMX, OSGi, Apache ActiveMQ, Apache Camel and Fuse Fabric. Open source, modular and extensible" name="description" />
		<!--
    <link href="/blog/atom.xml" rel="alternate" title="hawtio blog Atom feed" type="application/atom+xml" />
    -->
    <link href="/stylesheets/screen.css" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>
  <body class="home">
    <header class="navbar navbar-fixed-top" id="banner" role="banner">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="g-plusone-slot">
            <div class="g-plusone" data-annotation="none"></div>
          </div>
          <div class="logo-box">
            <a class="brand" href="/">
              <img src="/images/logo-100px.png" />
            </a>
          </div>
          <nav class="nav-collapse" role="navigation">
            <ul class="nav">
              <li><a href="/faq/index.html">FAQ</a></li>
              <li><a href="/getstarted/index.html">Get Started</a></li>
              <li><a href="/community/index.html">Community</a></li>
              <li><a href="/plugins/index.html">Plugins</a></li>
              <li><a href="/developers/index.html">Developers</a></li>
							<li><a href="https://github.com/hawtio/hawtio">github</a></li>
							<!--
              <li><a href="/blog/">Blog</a></li>
							-->
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <div id="main">
		  <p><div id="content-header">
    <div class="container"></p>

<h3 id = "Camel">Camel</h3>

<p>Click <a href="#/jmx/attributes?tab=camel">Camel</a> in the top navigation bar to view all the running Camel Contexts in the current JVM. (The selection will not appear on the navigation bar if there is no Camel running).</p>

<p>The Camel plugin allows you to view all the running Camel applications in the current JVM.
You can among others see the following details:</p>

<ul>
<li>Lists of all running Camel applications</li>
<li>Detailed information of each Camel Context such as Camel version number, runtime statics</li>
<li>Lists of all routes in each Camel applications and their runtime statistics</li>
<li>Manage the lifecycle of all Camel applications and their routes, so you can restart / stop / pause / resume, etc.</li>
<li>Graphical representation of the running routes along with real time metrics</li>
<li>Live tracing and debugging of running routes</li>
<li>Profile the running routes with real time runtime statics; detailed specified per processor</li>
<li>Browsing and sending messages to Camel endpoint</li>
</ul>

<h4 id = "Camel_Tree">Camel Tree</h4>

<p>On the left hand side is the Camel Tree which lists all the running Camel applications in the JVM.</p>

<p><img src="app/camel/doc/img/camel-tree.png" alt="Camel Tree" title="Camel Tree"/></p>

<p>And on the main view area is a table that lists runtime metrics of each Camel application, as shown below:</p>

<p><img src="app/camel/doc/img/context-attributes.png" alt="Camel Attributes" title="Camel Attributes"/></p>

<p>Clicking on a Camel application in the tree, selects it, and allows you to see more details about that particular Camel application.</p>

<h4 id = "Camel_Application">Camel Application</h4>

<p>In the Camel tree expand the selected Camel application to access more information such as the running routes.
When clicking on the routes node in the tree, the main page lists a table of all the routes and runtime metrics as shown below:</p>

<p><img src="app/camel/doc/img/route-attributes.png" alt="Route Attributes" title="Route Attributes"/></p>

<p>In the table you can select route(s) and use the buttons to control their lifecycle, such as stopping and starting routes.</p>

<h4 id = "Camel_Route">Camel Route</h4>

<p>By selecting a route in the Camel Tree</p>

<p><img src="app/camel/doc/img/route-select.png" alt="Select Route" title="Select Route"/></p>

<p>&hellip; gives access to a full range of <em>hawt</em> functionality. For example the diagram tab, shows a real time visual representation of the route, as shown below:</p>

<h5 id = "Diagram">Diagram</h5>

<p><img src="app/camel/doc/img/route-diagram.png" alt="Route Diagram" title="Route Diagram"/></p>

<p>If you however the mouse over the nodes in the diagram, a tool tip is presented with additional details.</p>

<h5 id = "Source">Source</h5>

<p>The Source tab shows a XML representation of the route.
Camel is able to output any route as XML even if the route was originally developed using Java, Groovy, or Scala code.</p>

<p><img src="app/camel/doc/img/route-source.png" alt="Route Source" title="Route Source"/></p>

<p>You can even edit the source code, for example we could add a predicate for checking if the message is from Paris in France,
such as adding the following to source code, and clicking the Update button.</p>

<pre><code>&lt;when customId="true" id="isCityParis"&gt;
  &lt;xpath&gt;/person/city = 'Paris'&lt;/xpath&gt;
  &lt;to uri="file:target/messages/fr" customId="true" id="messagesFR"/&gt;
&lt;/when&gt;</code></pre>

<p>And the route would be updated at runtime, which we can see in the Diagram tab as shown below:</p>

<p><img src="app/camel/doc/img/route-updated.png" alt="Route Updated" title="Route Updated"/></p>

<h5 id = "Debug">Debug</h5>

<p>The debug tab is for real time debugging of the selected route.
To activate the debugger, click the <strong>Start Debugging</strong> button. And to stop debugging click the <strong>Close</strong> button.</p>

<p>When the debugger is started, the center screen presents the selected route,</p>

<p><img src="app/camel/doc/img/route-debug-0.png" alt="Route Debug" title="Route Debug"/></p>

<p>&hellip; and on the left hand side is buttons to control the debugging.</p>

<p><img src="app/camel/doc/img/route-debug-1.png" alt="Route Debug Control Panel" title="Route Debug Control Panel"/></p>

<p>To set a breakpoint in the route, double click on a node (or select a node, and click the <strong>+</strong> button),
which inserts the breakpoint using a yellow ball as marker, as shown in the screen shot above, at the <em>Choice</em> node.
To remove a breakpoint double click the node again (or select the node, and click the <strong>x</strong> button).</p>

<p>The breakpoint is active, and when the first message arrives at the node, the color turns from yellow to blue, as shown below</p>

<p><img src="app/camel/doc/img/route-debug-2.png" alt="Route Debug Breakpoint Suspended" title="Route Debug Breakpoint Suspended"/></p>

<p>&hellip; and the message is suspended at the node. Below the route we can expand the message to see the message body and headers.
In this example we can see its a message from Jonathan Anstey whom lives in St. Johns in Canada.</p>

<p>Clicking on the <img src="app/camel/doc/img/debug/step.gif" alt="Step Button" title="Step Button"/> will advance the message to the next node, which
in this example is the <em>messageOthers</em> node as shown below:</p>

<p><img src="app/camel/doc/img/route-debug-3.png" alt="Route Debug Others" title="Route Debug at messageOthers"/></p>

<p>By clicking on the <img src="app/camel/doc/img/debug/resume.gif" alt="Resume Button" title="Step Resume"/> would continue routing the message, until
a message arrives at an active breakpoint.</p>

<p>You can have multiple breakpoints in a route, and use the step or resume buttons to advance routing the message(s).</p>

<p>Notice you can only <em>work with</em> one message at a time with the debugger; meaning that its the first message that arrives
at an active breakpoint that is <em>only in use</em> in the debugger, until that message has completed its routing. This means
if you have concurrent messages in the route, the other messages will continue routing without being suspended at breakpoints.</p>

<h5 id = "Trace">Trace</h5>

<p>The trace tab is for real time tracing of messages as they flows through the route.
The tracing works similar to how the debugger works, expect that all messages is traced <em>as they</em> are being routed,
and no messages is suspended at breakpoints.</p>

<p>When the tracer is started, the route is displayed, and the traced messages is listed below the route as shown below:</p>

<p><img src="app/camel/doc/img/route-trace-0.png" alt="Route Trace" title="Route Trace"/></p>

<p>The ID column groups the traced message by their exchangeID. In the screen shot above, we have two groups traced messages (ID ending with -0-5 and -0-7).
Clicking a message in the list highlights the selected message in the route, by marking the node as blue, and shows the content of the message body as well,
as shown below:</p>

<p><img src="app/camel/doc/img/route-trace-1.png" alt="Route Trace Message" title="Route Trace Message"/></p>

<p>Using the control buttons we can navigate forward and backward the traced message at the actual path the message went.</p>

<p><img src="app/camel/doc/img/route-trace-control.png" alt="Route Trace Control Buttons" title="Route Trace Control Buttons"/></p>

<p>So if we click the next button we can see the message advanced to the next node which is the <em>Log</em> node, and the
message body is changed from <em>null</em> to <em>Hello from Camel route</em></p>

<p><img src="app/camel/doc/img/route-trace-2.png" alt="Route Trace Message 2" title="Route Trace Message 2"/></p>

<h5 id = "Profile">Profile</h5>

<p>The profile tab shows a real time profile of the selected route.</p>

<p>The top shows the accumulated profile for the route. Each of the following rows is a break down per processor.</p>

<p>In the screen shot below, we can see the route has processed 3 messages, with a mean processing time of 56 ms per message,
and a total of 169 ms. We can also see from the self time of the last 2 rows, that they only use 1 and 12 ms, so the
bottleneck is at the <em>choice1</em> processor which has a self time of 146 ms. The <em>choice1</em> processor is a Content Based Router EIP that
uses an XPath expression which means the majority of processing time is spent evaluating XPath expressions.</p>

<p><img src="app/camel/doc/img/route-profile.png" alt="Route Profile" title="Route Profile"/></p>

<p>The metrics shown in the table are as follows:</p>

<ul>
<li>Count = Total number of messages processed</li>
<li>Last = Time in ms. processing the last message.</li>
<li>Delta = Difference in +/- ms. processing the second-last and last message.</li>
<li>Mean = Time in ms. for the average processing time.</li>
<li>Min = Time in ms. for the lowest processing time.</li>
<li>Max = Time in ms. for the highest processing time.</li>
<li>Total = Accumulated self time in ms. for processing messages.</li>
<li>Self = Total time in ms. for processing message in this processor only.</li>
</ul>

<h4 id = "Endpoint_Tree">Endpoint Tree</h4>

<p>On the left hand side is the Camel Tree which lists all the running Camel applications in the JVM.</p>

<p>When having selected a CamelContext you can list all the endpoint in use, as shown below:</p>

<p><img src="app/camel/doc/img/endpoint-tree.png" alt="Endpoint Tree" title="Endpoint Tree"/></p>

<p>And on the main view area is a table that lists the endpoints in tabular format as well.</p>

<p><img src="app/camel/doc/img/endpoint-table.png" alt="Endpoint Table" title="Endpoint Table"/></p>

<h5 id = "Browsable_Endpoints">Browsable Endpoints</h5>

<p>Some endpoints supports browsing, meaning you can view messages they have received or sent.
For example file and activemq/jms endpoints are browsable.</p>

<p>In the screen shot below we have selected the 'file:target/messages/uk' endpoint which contains one message that can be browsed</p>

<p><img src="app/camel/doc/img/endpoint-file-browse-1.png" alt="Endpoint Browsable" title="Endpoint Browsable"/></p>

<p>.. by clicking the message id, brings up the message, and a control panel on the right hand side.</p>

<p><img src="app/camel/doc/img/endpoint-file-browse-2.png" alt="Endpoint Browse" title="Endpoint Browse"/></p>

<p>If there is 2 or more messages that were browsable, you can use the control panel to navigate forward and backward among the messages.</p>

<h5 id = "Sending_Message_to_Endpoint">Sending Message to Endpoint</h5>

<p>It is possible to send message(s) to any Camel endpoint, by selecting the endpoint from the Camel Tree, as shown below,
and selecting the Send sub-tab, as shown in the screen shot below:</p>

<p><img src="app/camel/doc/img/endpoint-file-send-1.png" alt="Endpoint Send" title="Endpoint Send"/></p>

<p>The Compose sub-tab which is shown, allows to compose a new message, using the message editor shown above. In this example
we compose a new XML message for 'Claus Ibsen' to be sent as a file to the endpoint 'file://src/data'.</p>

<p><img src="app/camel/doc/img/endpoint-file-send-2.png" alt="Endpoint Send" title="Endpoint Send"/></p>

<p>To tell Camel what file name to use, we need to add a header, using the name 'CamelFileName'. As we start typing the header
name a list of known header names is listed, which allows us to easily pick the header needed, which is 'CamelFileName'</p>

<p><img src="app/camel/doc/img/endpoint-file-send-3.png" alt="Endpoint Send" title="Endpoint Send"/></p>

<p>And then we are ready to send the message, by clicking the Send button.</p>

<p></div>
  </div></p>
    </div>
    <footer>
      <div class="container">
        <div class="project">
          <img src="/images/logo-450px.png" />
          <p class="bottom">
            &#169;
            Copyright 2012-2014 Red Hat, Inc.
            <br />
            <i class="icon-fire"></i>
            Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>. Baked by <a href="http://scalate.fusesource.org">Scalate</a>.
            <br />
            <i class="icon-share-alt"></i>
            Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            <br />
            Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
          </p>
        </div>
        <div class="footer-nav">
          <h4>Learn</h4>
          <ul>
            <li>
              <a href="/index.html">Get Started</a>
            </li>
            <li>
							<a href="articles/index.html">Articles and Demos</a>
            </li>
            <li>
							<a href="faq/index.html">FAQ</a>
            </li>
            <li>
              <a href="/developers/index.html">Developers</a>
            </li>
            <li>
              <a href="/building/index.html">Building</a>
            </li>
          </ul>
        </div>
        <div class="footer-nav">
          <h4>Get Involved</h4>
          <ul>
						<!--
            <li>
              <a href="http://community.jboss.org/en/hawtio?view=discussions">Forums</a>
            </li>
						-->
            <li>
							<a href="/contributing/index.html">Contributing</a>
            </li>
            <li>
							<a href="/community/index.html">Community</a>
            </li>
            <li>
              <a href="https://github.com/hawtio/hawtio/issues?state=open">Issue Tracker</a>
            </li>
            <li>
              <a href="https://github.com/hawtio/hawtio">Source Code</a>
            </li>
						<!--
            <li>
              <a href="/community/contributors">Contributors</a>
            </li>
						-->
          </ul>
        </div>
        <div class="sponser">
          <div class="follow-us">
            <h4>Stay Informed</h4>
            <ul>
							<!--
              <li>
                <a href="https://plus.google.com/100660127586085393031"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow hawtio on Google+" /></a>
              </li>
							-->
              <li>
                <a href="https://twitter.com/#!/search/%23hawtio"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #hawtio hashtag on Twitter" /></a>
              </li>
							<!--
              <li>
                <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the hawtio group on LinkedIn" /></a>
              </li>
              <li>
                <a href="http://vimeo.com/channels/hawtio"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the hawtio channel on Vimeo" /></a>
              </li>
							-->
            </ul>
          </div>
          <p>This website is open source! If you want to improve it, <a href="http://github.com/hawtio/hawtio">fork the project</a>, hack on it, then send a pull request. You can also view the <a href="http://www.seethestats.com/site/hawtio">visitor stats</a>.</p>
          <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
          <p>hawtio is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
          <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
        </div>
        <a class="visible-desktop" href="#" id="toTop">Top</a>
      </div>
    </footer>
    <script>
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js"></script>
    <script src="/javascripts/prettify.js"></script>
    <script src="/javascripts/site.js"></script>
    <script>
      (function() {
        var po = document.createElement('script'); po.async = true; po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
		<script type="text/javascript">
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-36899203-1']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();
		</script>
  </body>
</html>
