<style type="text/css">
  ul.configurations,
  ul.configurations li {
    list-style: none;
  }

  ul.configurations {
    margin: 20px 20px;
  }

  ul.configurations li {
    margin: 1px;
    line-height: 34px;
  }

  ul.configurations li a {
    color: #404040;
    padding: 3px 10px;
    border-radius: 4px;
    border: 1px solid #d4d4d4;
    box-shadow: 0 1px 10px rgba(0, 0, 0, 0.1);
    background: #ffffff;
    background: -moz-linear-gradient(top, #ffffff 0%, #ffffff 34%, #f4f4f4 76%);
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #ffffff), color-stop(34%, #ffffff), color-stop(76%, #f4f4f4));
    background: -webkit-linear-gradient(top, #ffffff 0%, #ffffff 34%, #f4f4f4 76%);
    background: -o-linear-gradient(top, #ffffff 0%, #ffffff 34%, #f4f4f4 76%);
    background: -ms-linear-gradient(top, #ffffff 0%, #ffffff 34%, #f4f4f4 76%);
    background: linear-gradient(to bottom, #ffffff 0%, #ffffff 34%, #f4f4f4 76%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#f4f4f4', GradientType=0);
    z-index: 5;
  }
  ul.configurations li.factoryPid a {
    font-weight: bold;
  }

  ul.configurations li.pid a {
    font-weight: normal;
  }
</style>

<div class="controller-section" ng-controller="Osgi.ConfigurationsController">
  <div class="row-fluid">
    <div class="section-header">
      <div class="section-filter">
        <input type="text" class="search-query" placeholder="Filter..." ng-model="filterText">
        <i class="icon-remove clickable" title="Clear Filter" ng-click="filterText = ''"></i>
      </div>

      <button class="btn pull-right" ng-click="addPidDialog.open()" title="Add a new configuration"><i
              class="icon-plus"></i> Configuration
      </button>
    </div>
  </div>

  <ul class="configurations">
    <li ng-repeat='config in configurations | filter:filterText'  class='{{config.class}}'>
      <a ng-href="{{config.pidLink}}" title="{{config.description}}">{{config.name}}</a>
      <ul ng-show="config.isFactory">
        <li ng-repeat="child in config.children" class='{{child.class}}'>
          <a ng-href="{{child.pidLink}}" title="{{child.description}}">{{child.name}}</a>
        </li>
      </ul>
    </li>
  </ul>

  <div modal="addPidDialog.show" close="addPidDialog.close()" options="addPidDialog.options">
    <form name="addPidDialogForm" class="form-horizontal no-bottom-margin" ng-submit="addPid(newPid)">
      <div class="modal-header"><h4>Add New Configuration</h4></div>
      <div class="modal-body">
        <div class="control-group">
          <label class="control-label" for="newPid">New Configuration ID</label>

          <div class="controls">
            <input class="input-xlarge" type="text" id="newPid" ng-model="newPid"/>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <input class="btn btn-success" ng-disabled="!(newPid !== '' && newPid !== undefined)" type="submit" value="Add">
        <input class="btn btn-primary" ng-click="addPidDialog.close()" type="button" value="Cancel">
      </div>
    </form>
  </div>
</div>

