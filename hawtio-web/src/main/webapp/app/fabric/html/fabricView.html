<div ng-controller="Fabric.FabricViewController">
  <div class="row-fluid fabric-view gridStyle">


    <div class="columns">


      <div id="center" class="column">
        <div>
          <a href="" ng-click="setActiveContainer(null)">Show All</a>
        </div>

        <div class="canvas">

          <div ng-repeat="container in containers" ng-show="filterContainer(container)">
            <div class="box" ng-class="isSelectedContainer(container)" id="container#{{container.id}}" data-drop="true" jqyoui-droppable="{multiple: false, stack: true, onDrop: 'handleDrop', index: $index}">

              <div class="box-left">

                <input type="checkbox" ng-model="container.selected">

                <div ng-click="setActiveContainer(container)">
                  {{container.id}}
                </div>
              </div>

              <div class="box-right">
                <a href="" ng-show="container.jolokiaUrl && container.alive" title="Open a new window and connect to this container" ng-click="connect(container)">
                  <i class="icon1point5x icon-signin"></i>
                </a>                
                <i class="icon1point5x" title="{{getTitle(container)}}" ng-class='statusIcon(container)'></i>
              </div>

            </div>
          </div>
        </div>
      </div>


      <div id="left" class="column">
        <div>
          <a href="" ng-click="setActiveVersionId('')">Show All</a>
        </div>

        <div class="version-section">
          <div class="canvas">
            <div ng-repeat="version in versions">
              <div class="box" ng-class="isSelectedVersion(version.id)" id="version#{{version.id}}" data-drag="true" jqyoui-draggable="{animate:false, placeholder: keep, index: $index}" data-jqyoui-options="{revert: 'invalid', appendTo: '.fabric-view', containment: 'element', helper: 'clone'}" ng-click="setActiveVersionId(version.id)">


                {{version.id}} {{containersForVersion(version.id)}}

              </div>
            </div>
          </div>
        </div>

        <div>
          <a href="" ng-click="setActiveProfileId('')">Show All</a>
        </div>
        <div class="profile-section">

          <div class="canvas">
            <div ng-repeat="profile in profiles">
              <div class="box" ng-class="isSelectedProfile(profile)" id="profile#{{profile}}" data-drag="true" jqyoui-draggable="{animate:false, placeholder: keep, index: $index}" data-jqyoui-options="{revert: 'invalid', appendTo: '.fabric-view', containment: 'element', helper: 'clone'}" ng-click="setActiveProfileId(profile)">

                {{profile}} {{containersForProfile(profile)}}

              </div>
            </div>
          </div>
        </div>

      </div>



      <div id="right" class="column">
        <div>
          <a href="" ng-click="setActiveProfile(null)">Show All</a>
        </div>
        <div class="canvas">
          <div ng-repeat="profile in activeProfiles" ng-show="filterActiveProfile(profile)">
            <div class="box">

              <div class="active-profile">
                <i class="icon-remove clickable" style="display: inline;" ng-click="removeActiveProfiles(profile)" ng-show="(activeContainerId && activeContainerId != '') || selectedContainers.length > 0"></i>
                

                <div ng-click="setActiveProfile(profile)">
                  {{profile.versionId}} / {{profile.id}} ({{profile.count}})
                </div>
              </div>

            </div>    
          </div>
        </div>
      </div>


    </div>
  </div>
</div>
